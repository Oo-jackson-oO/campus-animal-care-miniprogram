<view class="container">
  <view wx:if="{{loading}}">
    <skeleton rows="3"></skeleton>
    <skeleton rows="3"></skeleton>
    <skeleton rows="3"></skeleton>
  </view>
  <view wx:else>
  <!-- ç°ä»£å…¬å‘Šæ»šåŠ¨æ  -->
  <view class="notice-container">
    <view class="notice-header">
      <view class="notice-icon">ğŸ“¢</view>
      <text class="notice-title">é‡è¦é€šçŸ¥</text>
      <view class="notice-indicator">
        <view class="indicator-dot {{currentNoticeIndex === index ? 'active' : ''}}" 
              wx:for="{{notices}}" 
              wx:key="id" 
              wx:for-index="index"></view>
      </view>
    </view>
    
    <view class="notice-content">
      <swiper class="notice-swiper" 
              autoplay="{{notices.length > 1}}" 
              circular="{{notices.length > 1}}" 
              interval="4000" 
              vertical="true"
              bindchange="onNoticeChange">
        <swiper-item wx:for="{{notices}}" wx:key="id" class="notice-item">
          <view class="notice-card" 
                style="background: {{item.bgColor}}; border-left-color: {{item.color}};"
                bindtap="onNoticeTap" 
                data-notice="{{item}}">
            <view class="notice-card-header">
              <text class="notice-type-icon">{{item.icon}}</text>
              <text class="notice-type-text" style="color: {{item.color}};">{{item.title}}</text>
              <view class="notice-time">{{item.timeAgo}}</view>
            </view>
            <view class="notice-card-content">
              <text class="notice-text">{{item.content}}</text>
            </view>
            <view class="notice-card-footer">
              <text class="notice-more">ç‚¹å‡»æŸ¥çœ‹è¯¦æƒ… â†’</text>
            </view>
          </view>
        </swiper-item>
      </swiper>
    </view>
  </view>

  <!-- æ–‡åˆ›äº§å“ï¼ˆå¯å·¦å³æ»‘åŠ¨ï¼‰ -->
  <section-title title="æ–‡åˆ›äº§å“"></section-title>
  <scroll-view wx:if="{{products.length > 0}}" scroll-x class="products-scroll">
    <view class="product-item" wx:for="{{products}}" wx:key="id" bindtap="onProductTap" data-id="{{item.id}}">
      <image src="{{item.image}}" mode="widthFix" lazy-load="true"></image>
      <view class="product-info">
        <text class="product-name">{{item.name}}</text>
        <view class="product-price">
          <text class="current-price">Â¥{{item.price}}</text>
          <text class="original-price" wx:if="{{item.originalPrice > item.price}}">Â¥{{item.originalPrice}}</text>
        </view>
        <view class="product-meta">
          <text class="rating">â˜… {{item.rating}}</text>
          <text class="sales">å·²å”®{{item.sales}}</text>
        </view>
      </view>
    </view>
  </scroll-view>
  <empty-state wx:else text="æš‚æ— æ–‡åˆ›äº§å“" subtext="ç¨åå†æ¥çœ‹çœ‹å§"></empty-state>

  <!-- åŠ¨ç‰©åˆ—è¡¨ -->
  <section-title title="æ ¡å›­åŠ¨ç‰©"></section-title>
  <view wx:if="{{animals.length > 0}}" class="animal-list">
    <view wx:for="{{animals}}" wx:key="id" class="animal-card" bindtap="onAnimalTap" data-id="{{item.id}}">
      <image src="{{item.image}}" mode="widthFix" lazy-load="true"></image>
      <view class="animal-info">
        <text>åå­—ï¼š{{item.name}} | æ€§åˆ«ï¼š{{item.gender}} | ç»è‚²ï¼š{{item.sterilized ? 'æ˜¯' : 'å¦'}}</text>
      </view>
    </view>
  </view>
  <empty-state wx:else text="æš‚æ— åŠ¨ç‰©ä¿¡æ¯" subtext="è¿˜æ²¡æœ‰æ”¶å½•åˆ°æ ¡å›­åŠ¨ç‰©"></empty-state>
  </view>
</view>
